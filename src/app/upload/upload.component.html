<app-navbar></app-navbar>

<div class="errorZone">
  <div class="errorContent" *ngIf="statusPublish">
    <mat-icon style="margin-left: 100%; cursor: pointer;" (click)="closeError()" >close</mat-icon>

    <div style="display: flex;">
      <div>
        <mat-icon class="errorIcon">error</mat-icon>
      </div>
      <div style="margin-top: 2.5px;">
        Error: {{statusPublish}}
      </div>
    </div>
  </div>
</div>

<div class="upload-page">
    <h2>Cargar una Publicación</h2>
    <form (ngSubmit)="onSubmit()" #uploadForm="ngForm" enctype="multipart/form-data">
      <div class="form-group">
        <label for="title">Título de la Publicación</label>
        <input type="text" id="title" name="title" [(ngModel)]="newListing.title" required>
      </div>
  
      <div class="form-group">
        <label for="description">Descripción</label>
        <textarea style="resize: none;" id="description" name="description" [(ngModel)]="newListing.description" required></textarea>
      </div>
      <div class="money">      
        <div class="form-group" style="margin-right: 10px">
          <label for="price">Precio</label>
          <input type="number" id="price" name="price" [(ngModel)]="newListing.price" required>
        </div>
        <div class="form-group">
          <label for="currency">Moneda</label>
          <select id="currency" name="currency" [(ngModel)]="newListing.currency" required>
            <option value="ARS">ARS</option>
            <option value="USD">USD</option>
          </select>
        </div>
      </div>

      <div class="form-group">
        <label for="currency">Estado</label>
        <select id="state" name="state" [(ngModel)]="newListing.state" required>
          <option value="Disponible">Disponible</option>
          <option value="Pausada">Pausada</option>
        </select>
      </div>
      <div class="form-group">
        <label for="image">Imagen</label>
        <input type="file" accept=".jpg, .png, .webp, .jpeg" id="image" name="listing" (change)="onFileSelected($event)">
      </div>
      <div class="submit">
        <button type="submit">Cargar Publicación</button>
      </div>
    </form>
  </div>
  